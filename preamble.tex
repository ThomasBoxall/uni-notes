% START WITH BASIC DOCUMENT SETUP
\usepackage{geometry}
\geometry{
a4paper,
total={170mm,257mm},
left=20mm,
top=20mm,
}
\setlength\parindent{0pt} % get rid of the stupid indent

% INCLUDE PACKAGES

\usepackage[utf8]{inputenc}
\usepackage[dvipsnames]{xcolor}
\usepackage{float}
\usepackage{graphicx}
\usepackage{tabularx}
\usepackage{fontawesome}
\usepackage[colorlinks=true, linkcolor=magenta]{hyperref}
\usepackage{ragged2e}
\usepackage{cancel} % used to cancel out numbers in maths mode.
\usepackage{amssymb} % gives more maths symbols
\usepackage{enumitem} % gives ability to have different enumerate bullets.
\usepackage{multirow}

\usepackage{tikz}
\usetikzlibrary{positioning}
\usepackage{circuitikz}


%%%%%%%%%%%%%%%%%%%%% PDF METADATA & TITLE %%%%%%%%%%%%%%%%%%%%%%


\newcommand{\bookTitle}[5]{\begin{titlepage}
    \rule{\textwidth}{1px}
    \vspace{0.025\textheight}\\
    \huge{University Of Portsmouth}\\
    \huge{BSc (Hons) Computer Science}\\
    \huge{#1 Year}\\
    \vfill
    \LARGE{\textbf{#2}}\\
    \Large{#3}\\
    \large{#4}\\
    \large{#5 Credits}
    \vfill

    
    \begin{FlushRight}
        \large{Thomas Boxall}\\
        \textit{up2108121@myport.ac.uk}\\
        
    \end{FlushRight}
    \vspace{0.2\textheight}
    \rule{\textwidth}{1px}
    
\end{titlepage}
}

\newcommand{\docSetup}[1]{\fancyfoot[R]{#1}
\hypersetup{
pdftitle={#1},
pdfauthor={Thomas Boxall}
}}

%%%%%%%%%%%%%%%%% MDFRAMED BOXES

\usepackage[framemethod=default]{mdframed}
\mdfsetup{skipabove=\topskip,
skipbelow=\topskip,
leftmargin=0cm,
rightmargin=0cm,
linewidth=3pt
}


% DEFINITION
\mdfdefinestyle{definition}{%
linecolor=Yellow,
backgroundcolor=Yellow!10,
topline=false,
bottomline=false,
rightline=false,
frametitlebackgroundcolor=Yellow!30
}
\newcommand{\define}[2]{\begin{mdframed}[style=definition,frametitle={#1}]%
    #2
    \end{mdframed}
}

% KEY CONCEPT
\mdfdefinestyle{keyconcept}{%
linecolor=Blue,
backgroundcolor=Blue!10,
topline=false,
bottomline=false,
rightline=false,
frametitlebackgroundcolor=Blue!30
}
\newenvironment{keyconcept}[1]
    {\begin{mdframed}[style=keyconcept,frametitle={#1}]
        }
        {
    \end{mdframed}
    }

% EXAMPLE
\mdfdefinestyle{example}{%
linecolor=Red,
backgroundcolor=Red!10,
topline=false,
bottomline=false,
rightline=false,
frametitlebackgroundcolor=Red!30
}
\newenvironment{example}[1]
    {\begin{mdframed}[style=example,frametitle={#1}]
        }
        {
    \end{mdframed}
    }

% QUESTION
\mdfdefinestyle{question}{%
linecolor=Green,
backgroundcolor=Green!10,
topline=false,
bottomline=false,
rightline=false,
frametitlebackgroundcolor=Green!30
}
\newenvironment{question}[1]
    {\begin{mdframed}[style=question,frametitle={#1}]
        }
        {
    \end{mdframed}
    }

% LINK
\mdfdefinestyle{link}{%
linecolor=Plum,
backgroundcolor=Plum!10,
topline=false,
bottomline=false,
rightline=false,
frametitlebackgroundcolor=Plum!30
}
\newenvironment{link}[1]
    {\begin{mdframed}[style=link,frametitle={#1}]
        }
        {
    \end{mdframed}
    }


% COMMAND FOR LECTURE HEADER
\newcommand{\lecture}[5]{\newpage%
    \addtocounter{lectureCounter}{1}
    \addcontentsline{toc}{chapter}{S.\arabic{lectureCounter}. \quad #1 (#2)}
    \textsc{\huge S.\arabic{lectureCounter}. \ #1}\\ %title of session
    \begin{figure}[H]
        \begin{minipage}[t]{0.2\textwidth}
            \textbf{\faCalendar}\ #2
        \end{minipage}\hfill
        \begin{minipage}[t]{0.2\textwidth}
            \textbf{\faClockO}\ #3
        \end{minipage}\hfill
        \begin{minipage}[t]{0.2\textwidth}
            \textbf{\faMortarBoard}\ #4
        \end{minipage}\hfill
        \begin{minipage}[t]{0.2\textwidth}
            \textbf{\faMapMarker}\ #5
        \end{minipage}\hfill
    \end{figure}
    \fancyhead[R]{S.\arabic{lectureCounter}. \ \textsc{#1}}
    } %end of new command

% COMMAND FOR RESEARCH HEADER
\newcommand{\research}[3]{\newpage%
    \textsc{\huge \textsc{#1}}
    \begin{figure}[H]
        \begin{minipage}[t]{0.4\textwidth}
            \textbf{\faCalendar}\ #2
        \end{minipage}\hfill
        \begin{minipage}[t]{0.4\textwidth}
            \textbf{\faEye}\ #3
        \end{minipage}\hfill
    \end{figure}
    \fancyhead[R]{\textsc{#1}}
} % end of new command




% HEADER FOOTER
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{Thomas Boxall}
\fancyhead[R]{} %put project title here
\fancyfoot[R]{}
\fancyfoot[C]{\thepage}
\renewcommand{\footrulewidth}{0.4pt}
\addtolength{\topmargin}{-1.59999pt} % This and line below changes margins to accomondate for headers and footers
\setlength{\headheight}{13.59999pt}


%setup counter for counting classes

\newcounter{lectureCounter}


% DEFINE CODE ENVIRONMENTS

% first, import listings package and other packages
\usepackage{listings}
\usepackage{amsmath}

%now, define visual studio colours
\definecolor{codegreen}{RGB}{87,166,74}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{RGB}{214,157,133}
\definecolor{codeblue}{RGB}{86,156,214}
\definecolor{backcolour}{RGB}{255,255,255}
\definecolor{codenormal}{RGB}{0,0,0}

% define the mdframed base style

\mdfdefinestyle{code}{%
linecolor=Gray,
backgroundcolor=Gray!10,
topline=false,
bottomline=false,
rightline=false,
frametitlebackgroundcolor=Gray!30
}

% define the base listings style

\lstset{backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{codeblue},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\scriptsize\color{codenormal},
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=4,
    rulecolor=\color{black},
    postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
    moredelim=[is][\color{red}]{/@}{/@}
}

% now, define pseudocode style (black text on white background)
\lstdefinestyle{pseudocode}{
    captionpos=t,
}
\lstnewenvironment{pseudo}
    {%
        \mdframed[style=code]%
        \tiny{ LANGUAGE: Pseudocode}
        \lstset{style = pseudocode}%
    }
    {\endmdframed}

\lstnewenvironment{pseudo*}
    {%
        \mdframed[style=code]%
        \tiny{ LANGUAGE: Unknown}
        \lstset{style = pseudocode}%
    }
    {\endmdframed}


  %  \lstnewenvironment{pseudo}
  %  {\lstset{style = pseudocode}}
  %  {}

% define style and frame for python3

\lstdefinestyle{python3}{
    morekeywords={False, await, else, import, pass, None, break, except, in, raise, True, class, finally, is, return, and, continue, for, lambda, try, as, def, from, nonlocal, while, assert, del, global, not, with, async, elif, if, or, yield}
}

\lstnewenvironment{python}
    {%
        \mdframed[style=code]%
        \tiny{ LANGUAGE: Python3}
        \lstset{style = python3, language=Python}%
    }
    {\endmdframed}


% SQL environment

\lstdefinestyle{sql}{
    morekeywords={SELECT, DISTINCT, INTO, TOP, AS, FROM, WHERE, AND, OR, BETWEEN, LIKE, IN, CREATE, CREATE DATABASE, CREATE TABLE, CREATE INDEX, CREATE VIEW, DROP, DROP DATABASE, DROP TABLE, DROP INDEX, UPDATE, DELETE, ALTER TABLE, COUNT, SUM, AVG, MIN, MAX, GROUP BY, HAVING, ORDER BY, DESC, OFFSET, FETCH, INNER JOIN, LEFT JOIN, RIGHT JOIN, FULL JOIN, EXISTS, GRANT, REVOKE, SAVEPOINT, COMMIT, ROLLBACK, TRUNCATE, UNION, }
}

\lstnewenvironment{sql}
    {%
        \mdframed[style=code]%
        \tiny{ LANGUAGE: SQL}
        \lstset{style = sql, language=SQL}%
    }
    {\endmdframed}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SETUP TIKZ

\tikzset{
    cnode/.style={circle, draw=black, thick, minimum size=2mm},
    redcnode/.style={circle, draw=red, thick, minimum size=2mm},
    lilBlackSquare/.style={rectangle, draw=black, fill=black, minimum size=1mm},
    reddot/.style={circle, draw=red!40, fill=red!40, thick, minimum size=0.5mm},
    elePort/.style={circle,draw=black, thin, minimum size=0.1mm},
}


\newenvironment{circuit}
    {\begin{circuitikz}[]%
    \ctikzset{logic ports origin=center, logic ports = ieee}%

        }%
        {
    \end{circuitikz}%
    }